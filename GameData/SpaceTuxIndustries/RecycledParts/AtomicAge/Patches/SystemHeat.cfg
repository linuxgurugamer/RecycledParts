@PART[radiatorRadialSmall]:NEEDS[SystemHeat]
{
	refVolume = 0.43 // m^3
	refArea = 1.84 // m^2
	refPower = 740 // kW
}
@PART[radiatorRadialMedium]:NEEDS[SystemHeat]
{
	refVolume = 2.12
	refArea = 6.79
	refPower = 2700
}
@PART[radiatorRadialLarge]:NEEDS[SystemHeat]
{
	refVolume = 7.05
	refArea = 15.09
	refPower = 6000
}


@PART[radiatorRadialSmall|radiatorRadialMedium|radiatorRadialLarge]:NEEDS[SystemHeat]
{
	MODULE
	{
		name = ModuleSystemHeat
		volume = #$/refVolume$
		@volume *= 0.04
		moduleID = radiator
		iconName = Icon_Radiator
		ignoreTemperature = true
	}
	!MODULE[ModuleAnimateHeat] {}
	MODULE
	{
		name = ModuleSystemHeatColorAnimator
		moduleID = heat
		useRate = false
		animRate = 1
		shaderProperty = _EmissiveColor
		toggleInEditor = false
		toggleInFlight = false
		redCurve
		{
			key = 0 0
			key = 0.4 1 2.27 0
			key = 1 1
		}
		greenCurve
		{
			key = 0 0
			key = 0.2 0 0 2.18
			key = 0.6 1 2.36 0
			key = 1 1
		}
		blueCurve
		{
			key = 0 0
			key = 0.4 0 0 2.18
			key = 0.8 1 2.41 0
			key = 1 1
		}
		alphaCurve
		{
			key = 0 1
			key = 1 1
		}
	}
	@MODULE[ModuleActiveRadiator]
	{
		@name = ModuleSystemHeatRadiator
		moduleID = radiator
		// ModuleSystemHeat instance to link to
		systemHeatModuleID = default
		scalarModuleID = heat
		maxTempAnimation = 1800

		// option: use deterministic temperatures
		// Power radiated per temperature
		temperatureCurve
		{
			key = 0 0
			key = 260 0.0016
			key = 520 0.0256
			key = 780 0.1296
			key = 1040 0.4096
			key = 1300 1
			@key,*[1, ] *= #$/refPower$
		}
		// area for convection
		convectiveArea = #$/refArea$
	}
}